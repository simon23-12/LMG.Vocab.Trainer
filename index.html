

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LMG Englisch Vokabeltrainer</title>
  <style>
    :root {
      --bg-gradient-start: #667eea;
      --bg-gradient-end: #764ba2;
      --container-bg: white;
      --text-primary: #333;
      --text-secondary: #666;
      --text-tertiary: #999;
      --border-color: #ddd;
      --input-bg: white;
      --input-border: #ddd;
      --button-primary: #667eea;
      --button-hover: #5568d3;
      --card-bg: white;
      --shadow-color: rgba(0,0,0,0.1);
    }

    body.dark-mode {
      --bg-gradient-start: #1a1a2e;
      --bg-gradient-end: #16213e;
      --container-bg: #0f3460;
      --text-primary: #e0e0e0;
      --text-secondary: #b0b0b0;
      --text-tertiary: #808080;
      --border-color: #2a2a3e;
      --input-bg: #1a1a2e;
      --input-border: #2a2a3e;
      --button-primary: #667eea;
      --button-hover: #5568d3;
      --card-bg: #16213e;
      --shadow-color: rgba(0,0,0,0.5);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
      min-height: 100vh;
      padding: 20px;
      transition: background 0.3s ease;
    }
    
    .dark-mode-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(255,255,255,0.3);
      transition: 0.3s;
      border-radius: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .toggle-slider:before {
      position: absolute;
      content: "‚òÄÔ∏è";
      height: 22px;
      width: 22px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: 0.3s;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    input:checked + .toggle-slider {
      background-color: #667eea;
    }

    input:checked + .toggle-slider:before {
      transform: translateX(30px);
      content: "üåô";
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: var(--container-bg);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px var(--shadow-color);
      transition: background 0.3s ease, box-shadow 0.3s ease;
    }
    
    h1 { 
      color: var(--button-primary); 
      margin-bottom: 30px;
      text-align: center;
      font-size: 2.5em;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }
    
    .logo {
      height: 60px;
      width: auto;
    }
    
    /* Modern Landing Page Styles */
    .landing-container {
      max-width: 500px;
      margin: 0 auto;
    }
    
    .welcome-section {
      text-align: center;
      margin-bottom: 40px;
      animation: fadeInDown 0.8s ease;
    }
    
    .welcome-section h2 {
      font-size: 2em;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 10px;
    }
    
    .welcome-section p {
      color: var(--text-secondary);
      font-size: 16px;
    }
    
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      background: var(--card-bg);
      transition: background 0.3s ease;
      padding: 8px;
      border-radius: 12px;
    }
    
    .tab {
      flex: 1;
      padding: 12px;
      background: transparent;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      color: var(--text-secondary);
      transition: all 0.3s;
    }
    
    .tab.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }
    
    .tab:hover:not(.active) {
      background: var(--border-color);
    }
    
    .tab-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .form-group {
      margin: 20px 0;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--text-secondary);
    }
    
    .modern-input {
      width: 100%;
      padding: 14px 20px;
      border: 2px solid var(--border-color);
      border-radius: 12px;
      font-size: 16px;
      transition: all 0.3s;
      background: var(--input-bg);
      color: var(--text-primary);
    }
    
    .modern-input:focus {
      outline: none;
      border-color: var(--button-primary);
      box-shadow: 0 0 0 4px rgba(102,126,234,0.1);
      transform: translateY(-2px);
    }
    
    .modern-button {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
      margin-top: 20px;
    }
    
    .modern-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102,126,234,0.4);
    }
    
    .modern-button:active {
      transform: translateY(0);
    }
    
    .input-icon {
      position: relative;
    }
    
    .input-icon input {
      padding-left: 45px;
    }
    
    .input-icon::before {
      content: attr(data-icon);
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 20px;
      pointer-events: none;
      z-index: 1;
    }
    
    /* Info Box Styles */
    .info-box {
      background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
      border-left: 4px solid #2196f3;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 25px;
      animation: slideInUp 0.6s ease;
    }
    
    .info-box-title {
      font-weight: 700;
      color: #1565c0;
      margin-bottom: 12px;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .info-box-list {
      margin: 0;
      padding-left: 20px;
      color: #0d47a1;
    }
    
    .info-box-list li {
      margin: 8px 0;
      line-height: 1.5;
    }
    
    .status {
      padding: 12px;
      margin: 15px 0;
      border-radius: 8px;
      text-align: center;
      font-weight: 500;
      display: none;
    }
    
    .status.error {
      background: #fee;
      color: #c33;
      border: 1px solid #fcc;
    }
    
    .status.success {
      background: #efe;
      color: #3a3;
      border: 1px solid #cfc;
    }
    
    .footer {
      text-align: center;
      margin-top: 40px;
      padding: 20px;
      font-size: 12px;
      color: var(--text-tertiary);
      font-style: italic;
    }
    
    .screen { 
      display: none; 
    }
    
    .screen.active { 
      display: block !important; 
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes fadeInDown {
      from { 
        opacity: 0;
        transform: translateY(-20px);
      }
      to { 
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* FLOATING VOCABULARY BACKGROUND - DESKTOP ONLY */
    @media (min-width: 1024px) {
      body {
        position: relative;
        overflow-x: hidden;
      }

      .vocab-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 0;
        overflow: hidden;
      }

      .floating-word {
        position: absolute;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 300;
        white-space: nowrap;
        user-select: none;
        animation: floatWord linear infinite;
        color: rgba(255, 255, 255, 0.5);
        text-shadow: 0 2px 40px rgba(255, 255, 255, 0.4);
      }

      body.dark-mode .floating-word {
        color: rgba(102, 126, 234, 0.5);
        text-shadow: 0 2px 40px rgba(102, 126, 234, 0.35);
      }

      @keyframes floatWord {
        0% {
          transform: translateX(-20%);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% {
          transform: translateX(120vw);
          opacity: 0;
        }
      }

      @keyframes floatWordLTR {
        0% {
          transform: translateX(0);
          opacity: 0;
        }
        5% {
          opacity: 1;
        }
        95% {
          opacity: 1;
        }
        100% {
          transform: translateX(100vw);
          opacity: 0;
        }
      }

      @keyframes floatWordRTL {
        0% {
          transform: translateX(0);
          opacity: 0;
        }
        5% {
          opacity: 1;
        }
        95% {
          opacity: 1;
        }
        100% {
          transform: translateX(-100vw);
          opacity: 0;
        }
      }

      .floating-word.small { font-size: 18px; }
      .floating-word.medium { font-size: 28px; }
      .floating-word.large { font-size: 38px; }
      .floating-word.xlarge { font-size: 52px; }

      /* Smaller sizes for laptop screens (13-15 inch) */
      @media (min-width: 1024px) and (max-width: 1600px) {
        .floating-word.small { font-size: 14px; }
        .floating-word.medium { font-size: 22px; }
        .floating-word.large { font-size: 30px; }
        .floating-word.xlarge { font-size: 40px; }
      }

      .container {
        position: relative;
        z-index: 1;
      }
    }
  </style>
</head>
<body>

  <!-- Floating Vocabulary Background (Desktop Only) -->
  <div class="vocab-background" id="vocabBackground"></div>

<body>

  <!-- Dark Mode Toggle -->
  <div class="dark-mode-toggle">
    <label class="toggle-switch">
      <input type="checkbox" id="darkModeToggle">
      <span class="toggle-slider"></span>
    </label>
  </div>

  <div class="container">
    <!-- Header mit Logo -->
    <h1>
      <img src="images/schoollogo.png" alt="LMG Logo" class="logo">
      Vokabeltrainer
    </h1>

    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
      <div class="landing-container">
        <div class="welcome-section">
          <h2>üöÄ Bereit zum Lernen?</h2>
          <p>Neu hier? Klicke auf "Registrieren".</p>
        </div>
        
        <div class="tabs">
          <button class="tab active" onclick="switchTab('login')">Login</button>
          <button class="tab" onclick="switchTab('register')">Registrieren</button>
        </div>
        
        <div id="loginTab" class="tab-content active">
          <div class="form-group">
            <div class="input-icon" data-icon="üë§">
              <input id="loginName" class="modern-input" placeholder="Dein Name" onkeypress="if(event.key==='Enter') login()" />
            </div>
          </div>
          <div class="form-group">
            <div class="input-icon" data-icon="üîí">
              <input id="loginPass" class="modern-input" placeholder="Passwort" type="password" onkeypress="if(event.key==='Enter') login()" />
            </div>
          </div>
          <button onclick="login()" class="modern-button">Login üöÄ</button>
        </div>
        
        <div id="registerTab" class="tab-content">
          <div class="info-box">
            <div class="info-box-title">üí° Wichtige Hinweise</div>
            <ol class="info-box-list">
              <li>Bitte melde dich nur mit deinem <strong>Vornamen</strong> als Name an, nicht den Nachnamen benutzen.</li>
              <li>Schreib dir dein Passwort sicher in den <strong>Schulplaner</strong> oder einen anderen Ort, wo du es jederzeit nachschauen kannst.</li>
              <li>Bitte w√§hle die <strong>richtige Klasse</strong> aus, da du sonst falsch zugeordnet wirst.</li>
            </ol>
          </div>
          
          <div class="form-group">
            <div class="input-icon" data-icon="üë§">
              <input id="regName" class="modern-input" placeholder="Dein Name" />
            </div>
          </div>
          <div class="form-group">
            <div class="input-icon" data-icon="üîí">
              <input id="regPass" class="modern-input" placeholder="Passwort" type="password" />
            </div>
          </div>
          <div class="form-group">
            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-secondary);">üìö Deine Klasse:</label>
            <select id="regClass" class="modern-input">
              <option value="">-- Klasse w√§hlen --</option>
              <option value="5a">5a</option>
              <option value="5b">5b</option>
              <option value="5c">5c</option>
              <option value="5d">5d</option>
              <option value="6a">6a</option>
              <option value="6b">6b</option>
              <option value="6c">6c</option>
              <option value="6d">6d</option>
              <option value="7a">7a</option>
              <option value="7b">7b</option>
              <option value="7c">7c</option>
              <option value="7d">7d</option>
              <option value="8a">8a</option>
              <option value="8b">8b</option>
              <option value="8c">8c</option>
              <option value="8d">8d</option>
              <option value="9a">9a</option>
              <option value="9b">9b</option>
              <option value="9c">9c</option>
              <option value="9d">9d</option>
              <option value="10a">10a</option>
              <option value="10b">10b</option>
              <option value="10c">10c</option>
              <option value="10d">10d</option>
            </select>
          </div>
          <button onclick="register()" class="modern-button">Account erstellen ‚ú®</button>
        </div>
      </div>
      
      <div id="loginStatus" class="status"></div>
    </div>

    <div class="footer">
      From Simon with love ‚ù§Ô∏è
    </div>
  </div>

  <!-- Firebase Configuration -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

  <script>
  // Firebase Konfiguration
  const firebaseConfig = {
    apiKey: "AIzaSyBJoc3KI6mElR3Xb0MKl5BNd5bJThO8m-8",
    authDomain: "testdatabase-4daf4.firebaseapp.com",
    databaseURL: "https://testdatabase-4daf4-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "testdatabase-4daf4",
    storageBucket: "testdatabase-4daf4.firebasestorage.app",
    messagingSenderId: "522457998676",
    appId: "1:522457998676:web:5b9450fa93e12fc3bdc722"
  };

  // Firebase initialisieren
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const auth = firebase.auth();

  // Verf√ºgbare Klassen
  const availableClasses = ['5a', '5b', '5c', '5d', '6a', '6b', '6c', '6d', '7a', '7b', '7c', '7d', '8a', '8b', '8c', '8d', '9a', '9b', '9c', '9d', '10a', '10b', '10c', '10d', '11', '12'];

  let currentUser = null;

  // Session-Persistenz pr√ºfen
  auth.onAuthStateChanged(async (firebaseUser) => {
    if (firebaseUser) {
      try {
        const userSnapshot = await db.ref('users/' + firebaseUser.uid).get();
        if (userSnapshot.exists()) {
          currentUser = userSnapshot.val();
          currentUser.key = firebaseUser.uid;
          // Direkt zu display.html mit Klasse
          const savedClass = localStorage.getItem('selectedClass');
          if (savedClass) {
            window.location.href = 'display.html?class=' + savedClass;
          }
        }
      } catch (error) {
        console.error('Session-Fehler:', error);
      }
    }
  });

  // Status-Anzeige
  function showStatus(message, type) {
    const statusEl = document.getElementById('loginStatus');
    statusEl.textContent = message;
    statusEl.className = 'status ' + type;
    statusEl.style.display = 'block';
    setTimeout(() => {
      statusEl.style.display = 'none';
    }, 4000);
  }

  // Tab-Wechsel
  function switchTab(tabName) {
    document.querySelectorAll('.tab').forEach(tab => {
      tab.classList.remove('active');
    });
    document.querySelectorAll('.tab-content').forEach(content => {
      content.classList.remove('active');
    });
    
    if (tabName === 'login') {
      document.querySelectorAll('.tab')[0].classList.add('active');
      document.getElementById('loginTab').classList.add('active');
    } else {
      document.querySelectorAll('.tab')[1].classList.add('active');
      document.getElementById('registerTab').classList.add('active');
    }
  }

  // Passwort hashen (SHA-256)
  async function hashPassword(password) {
    const encoder = new TextEncoder();
    const data = encoder.encode(password);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
  }

  // Registrierung
  async function register() {
    const name = document.getElementById('regName').value.trim();
    const pass = document.getElementById('regPass').value;
    const cls = document.getElementById('regClass').value;
    
    if (!name || !pass || !cls) {
      showStatus("Bitte alle Felder ausf√ºllen!", 'error');
      return;
    }
    
    // Extrahiere Jahrgang aus Klasse (z.B. "7b" -> "7")
    const jahrgang = cls.charAt(0);
    if (!['5','6','7','8','9'].includes(jahrgang) && !cls.startsWith('10')) {
      showStatus("Ung√ºltige Klasse!", 'error');
      return;
    }
    
    try {
      // Erstelle eindeutigen Key aus Name + Passwort Hash
      const userKey = name + '_' + btoa(pass).substring(0, 8);
      
      // Pr√ºfe ob dieser exakte Account bereits existiert
      const existingUser = await db.ref('users/' + userKey).get();
      if (existingUser.exists()) {
        showStatus("Dieser Account existiert bereits! Bitte logge dich ein.", 'error');
        return;
      }
      
      // Hash Passwort mit SHA-256
      const passwordHash = await hashPassword(pass);
      
      await db.ref('users/' + userKey).set({ 
        name: name,
        passwordHash: passwordHash,
        class: cls,
        created: new Date().toISOString(),
        performance: {},
        currentStreak: 0,
        bestStreak: 0,
        lastActivityDate: null
      });
      
      alert("Registrierung erfolgreich! üéâ\n\nBitte notiere dir deine Login-Daten sorgf√§ltig:\n\nName: " + name + "\nPasswort: " + pass);
      showStatus("Registrierung erfolgreich! Jetzt einloggen.", 'success');
      
      // Felder leeren und zum Login wechseln
      document.getElementById('regName').value = '';
      document.getElementById('regPass').value = '';
      document.getElementById('regClass').value = '';
      switchTab('login');
    } catch (error) {
      showStatus("Fehler: " + error.message, 'error');
    }
  }

  // Benutzer-Login
  async function login() {
    const username = document.getElementById('loginName').value.trim();
    const password = document.getElementById('loginPass').value;

    if (!username || !password) {
      showStatus('‚ö†Ô∏è Bitte f√ºlle alle Felder aus', 'error');
      return;
    }

    // LEHRER-LOGIN CHECK
    if (username === 'teacher' || username === 'admin@lmg-vokabel.internal' || username === 'admin') {
      const inputHash = btoa(password);
      const correctHash = 'TE1HYWRtaW4=';
      
      if (inputHash === correctHash) {
        // Speichere Lehrer-Session
        sessionStorage.setItem('lmg_teacher_auth', 'true');
        sessionStorage.setItem('lmg_teacher_name', username);
        
        // Weiterleitung zum Teacher-Dashboard
        window.location.href = 'teacher-dashboard.html';
        return;
      } else {
        showStatus('‚ùå Falsches Passwort', 'error');
        return;
      }
    }

    try {
      // Erstelle den gleichen Key wie bei der Registrierung
      const userKey = username + '_' + btoa(password).substring(0, 8);
      
      const snap = await db.ref('users/' + userKey).get();
      
      if (!snap.exists()) {
        showStatus("Hoppla, deine Login-Daten stimmen nicht. Bitte √ºberpr√ºfe das noch einmal :)", 'error');
        return;
      }
      
      const data = snap.val();
      
      // Hash Passwort f√ºr Vergleich
      const inputHash = await hashPassword(password);
      
      // Support f√ºr alte Accounts (Klartext oder Base64)
      const isValidHash = data.passwordHash && data.passwordHash === inputHash;
      const isValidLegacy = data.password && data.password === password;
      
      if (!isValidHash && !isValidLegacy) {
        showStatus("Hoppla, deine Login-Daten stimmen nicht. Bitte √ºberpr√ºfe das noch einmal :)", 'error');
        return;
      }

      // Firebase Authentication f√ºr Session
      const email = userKey + '@lmg-vokabel.app';
      try {
        await auth.signInWithEmailAndPassword(email, password);
      } catch (authError) {
        if (authError.code === 'auth/user-not-found') {
          await auth.createUserWithEmailAndPassword(email, password);
          await auth.signInWithEmailAndPassword(email, password);
        }
      }

      // Erfolgreicher Login
      currentUser = data;
      currentUser.key = userKey;
      
      // Extrahiere Jahrgang aus Klasse
      let jahrgang;
      if (data.class.startsWith('10')) {
        jahrgang = '10';
      } else {
        jahrgang = data.class.charAt(0);
      }
      
      // Erstelle vollst√§ndiges User-Objekt f√ºr display.html
      const userObject = {
        name: data.name,
        userKey: userKey,
        class: data.class,
        jahrgang: jahrgang,
        currentStreak: data.currentStreak || 0,
        bestStreak: data.bestStreak || 0,
        lastActivityDate: data.lastActivityDate || null,
        lifetimeTotalVocabs: data.lifetimeTotalVocabs || 0
      };
      
      // Speichere Session-Daten f√ºr display.html
      localStorage.setItem('lmg_currentUser', JSON.stringify(userObject));
      localStorage.setItem('lmg_userPerformance', JSON.stringify(data.performance || {}));
      localStorage.setItem('lmg_sessionPerformance', JSON.stringify({}));
      localStorage.setItem('selectedClass', data.class);
      localStorage.setItem('currentUserKey', userKey);
      
      console.log('‚úì Session-Daten gespeichert f√ºr display.html');
      
      showStatus('‚úì Erfolgreich angemeldet!', 'success');
      setTimeout(() => {
        window.location.href = 'display.html?class=' + data.class;
      }, 500);

    } catch (error) {
      showStatus('Fehler: ' + error.message, 'error');
      console.error(error);
    }
  }

  // Enter-Taste f√ºr Login
  document.getElementById('loginPass').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      login();
    }
  });

  // Dark Mode
  function initDarkMode() {
    const darkModeToggle = document.getElementById('darkModeToggle');
    const isDarkMode = localStorage.getItem('darkMode') === 'true';
    
    if (isDarkMode) {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }
    
    darkModeToggle.addEventListener('change', function() {
      if (this.checked) {
        document.body.classList.add('dark-mode');
        localStorage.setItem('darkMode', 'true');
      } else {
        document.body.classList.remove('dark-mode');
        localStorage.setItem('darkMode', 'false');
      }
    });
  }

  document.addEventListener('DOMContentLoaded', initDarkMode);

  // ========================================
  // FLOATING VOCABULARY BACKGROUND
  // ========================================
  
  const vocabularyPool = [
    'sorry', 'terminal', 'subject', 'pool', 'Aboriginal', 'April', 'Argument', 
    'August', 'Aussie', 'British', 'Bye', 'Celsius', 'Colours', 'December', 
    'English', 'Fahrenheit', 'February', 'Follow me', 'French', 'Friday', 
    'Good luck', 'Good morning', 'Goodbye', 'Hello', 'Hindi', 'January', 
    'July', 'June', 'March', 'Mardi Gras', 'May', 'Me too', 'Monday', 
    'MƒÅori', 'November', 'Numbers', 'October', 'Saturday', 'See you', 
    'September', 'Sunday', 'Thank you', 'Thanksgiving', 'Thursday', 'Tuesday', 
    'Watch out', 'Wednesday', 'Well', 'couple', 'little', 'ability', 
    'abroad', 'abstract', 'academic', 'academy', 'accept', 'according to', 
    'account', 'achieve', 'acquaintance', 'activist', 'activities', 'activity', 
    'address', 'admire', 'adolescent', 'advanced', 'advertise', 'advertisement', 
    'after', 'afterwards', 'again', 'age', 'aged', 'agreement', 'agriculture', 
    'all right', 'alligator', 'alliteration', 'almost', 'alone', 'also', 
    'always', 'ambitious', 'among', 'amount', 'ancestor', 'angel', 'angry', 
    'animal', 'anniversary', 'answer', 'antonym', 'apart', 'appeal', 
    'appearance', 'applicant', 'appointment', 'appropriate', 'area', 
    'argumentative', 'armchair', 'arrange', 'arrest', 'arrive', 'art', 
    'ask', 'assessment', 'assignment', 'at last', 'at night', 'at risk', 
    'at school', 'atom bomb', 'attack', 'attention', 'attic', 'attract', 
    'attractive', 'aunt', 'author', 'autograph', 'avenue', 'average', 
    'away', 'awe-inspiring', 'awesome', 'awfully', 'back', 'backpack', 
    'backyard', 'bake', 'balcony', 'ball', 'bandage', 'banner', 'bar chart', 
    'bark', 'basic', 'basket', 'bat', 'bathroom', 'battery', 'battle', 
    'beach', 'beans', 'bear', 'beauty', 'because', 'bed', 'bedroom', 
    'beef', 'before', 'behaviour', 'behind', 'better', 'between', 'big', 
    'big wheel', 'bike', 'bilingual', 'bill', 'billboard', 'billion', 'bird',
    'learn', 'study', 'read', 'write', 'speak', 'listen', 'understand',
    'practice', 'improve', 'remember', 'know', 'think', 'believe',
    'smart', 'clever', 'creative', 'fantastic', 'amazing', 'excellent',
    'brilliant', 'successful', 'confident', 'proud', 'determined',
    'knowledge', 'wisdom', 'education', 'vocabulary', 'language',
    'progress', 'success', 'effort', 'dedication', 'motivation', 'inspiration',
    'dream', 'hope', 'future', 'potential', 'opportunity', 'adventure',
    'challenge', 'journey', 'discovery', 'growth', 'achievement',
    // 40 additional positive words
    'happy', 'joy', 'smile', 'love', 'peace', 'harmony', 'wonderful',
    'beautiful', 'perfect', 'super', 'great', 'nice', 'kind', 'friendly',
    'cheerful', 'brave', 'strong', 'talented', 'enthusiastic', 'passionate',
    'caring', 'helpful', 'supportive', 'generous', 'honest', 'loyal',
    'trustworthy', 'respectful', 'thoughtful', 'compassionate', 'empowering',
    'inspiring', 'uplifting', 'encouraging', 'celebrate', 'enjoy', 'appreciate',
    'gratitude', 'blessing', 'miracle', 'magical', 'spectacular', 'marvelous'
  ];

  function createFloatingWord() {
    const word = vocabularyPool[Math.floor(Math.random() * vocabularyPool.length)];
    const wordElement = document.createElement('div');
    wordElement.className = 'floating-word';
    
    // Random size
    const sizes = ['small', 'small', 'medium', 'medium', 'large', 'xlarge'];
    const randomSize = sizes[Math.floor(Math.random() * sizes.length)];
    wordElement.classList.add(randomSize);
    
    // Random vertical position (10% to 90%)
    const topPosition = 10 + (Math.random() * 80);
    wordElement.style.top = topPosition + '%';
    
    // Random direction: 50% left-to-right, 50% right-to-left
    const direction = Math.random() < 0.5 ? 'ltr' : 'rtl';
    
    // Random starting position (0% to 100% across screen)
    const startPosition = Math.random() * 100;
    
    if (direction === 'ltr') {
      // Left to right
      wordElement.style.left = startPosition + '%';
      wordElement.style.animationName = 'floatWordLTR';
    } else {
      // Right to left
      wordElement.style.right = startPosition + '%';
      wordElement.style.animationName = 'floatWordRTL';
    }
    
    // Speed based on size (larger = slower)
    const baseDuration = randomSize === 'xlarge' ? 50 : 
                        randomSize === 'large' ? 40 :
                        randomSize === 'medium' ? 30 : 25;
    const duration = baseDuration + (Math.random() * 10);
    wordElement.style.animationDuration = duration + 's';
    
    // NEGATIVE delay = animation already in progress (no static words!)
    // Random value between 0 and -duration means word appears somewhere along its path
    const delay = -(Math.random() * duration);
    wordElement.style.animationDelay = delay + 's';
    
    wordElement.textContent = word;
    return wordElement;
  }

  function initFloatingBackground() {
    if (window.innerWidth < 1024) return;
    const background = document.getElementById('vocabBackground');
    if (!background) return;
    
    // Clear existing words
    background.innerHTML = '';
    
    // Adaptive word count based on screen size
    let wordCount;
    if (window.innerWidth >= 2000) {
      wordCount = 80;  // Large monitors (27"+)
    } else if (window.innerWidth >= 1600) {
      wordCount = 70;  // Medium-large monitors (24-27")
    } else {
      wordCount = 45;  // Laptops (13-15")
    }
    
    for (let i = 0; i < wordCount; i++) {
      const word = createFloatingWord();
      background.appendChild(word);
    }
    console.log('‚úÖ Floating vocabulary initialized:', wordCount, 'words (adaptive for', window.innerWidth + 'px)');
  }

  // Initialize on load
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initFloatingBackground);
  } else {
    initFloatingBackground();
  }

  // Handle resize
  let resizeTimer;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      const background = document.getElementById('vocabBackground');
      if (!background) return;
      if (window.innerWidth >= 1024 && background.children.length === 0) {
        initFloatingBackground();
      } else if (window.innerWidth < 1024) {
        background.innerHTML = '';
      }
    }, 250);
  });
  </script>

</body>
</html>
